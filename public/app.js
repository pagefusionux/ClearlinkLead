webpackJsonp([0],{25:function(e,t,n){"use strict";var r=n(258),a=n.n(r),o=n(263),s=n.n(o),l=new a.a;s()(l),t.a=l},256:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n.n(r),o=n(60),s=n.n(o),l=n(224),i=(n.n(l),n(34)),u=n.n(i),c=n(89),p=n(35),f=n(90),m=n(273),d=n(277),h=n(279),y=n(88),g=n(278),v=n(276),b=n(420),j=(n.n(b),n(419)),E=(n.n(j),n(85)),k=(n.n(E),n(84)),w=(n.n(k),n(291));n.n(w);p.a.localLogin(),u.a.interceptors.response.use(function(e){return e},function(e){return new Promise(function(t,n){401===e.status&&"The access token provided has expired."===e.data.error_description?p.a.refreshToken({initialRequest:e.config,resolve:t,reject:n}):401===e.status&&"Unauthorized"===e.statusText?p.a.logout():n(e)})});var _=function(e,t){console.log(f.a.getState()),null===f.a.getState().accessToken&&(console.log("State of user accessToken is null."),t({nextPathname:e.location.pathname},"/login"))};s.a.render(a.a.createElement(l.Router,{history:c.a},a.a.createElement(l.Route,{component:m.a,onEnter:_},a.a.createElement(l.Route,{path:"/",component:h.a}),a.a.createElement(l.Route,{path:"/ManageUserTypes",component:y.a}),a.a.createElement(l.Route,{path:"/Meetings",component:g.a}),a.a.createElement(l.Route,{path:"/Domains",component:v.a})),a.a.createElement(l.Route,{path:"/login",component:d.a})),document.getElementById("app"))},273:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=n.n(s),i=n(281),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(i.a,null),this.props.children)}}]),t}(s.Component);t.a=c},274:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=n.n(s),i=n(56),u=n(36),c=n(29),p=n.n(c),f=n(37),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.id=o.props.data.id,o.title=o.props.data.title,o.created_at=n.i(f.a)(o.props.data.created_at),o.updated_at=n.i(f.a)(o.props.data.updated_at),o}return o(t,e),m(t,[{key:"insertUserType",value:function(e){e.preventDefault(),u.a.insertUserType({index:i.a.getState().userTypes.length,userTypes:i.a.getState().userTypes})}},{key:"updateUserType",value:function(e){e.preventDefault();var t={title:this.refs.title.value};u.a.updateUserTypes({index:this.props.index,updated:t,userTypes:i.a.getState().userTypes})}},{key:"deleteUserType",value:function(e){e.preventDefault(),u.a.deleteUserType({index:this.props.index,userTypes:i.a.getState().userTypes})}},{key:"render",value:function(){return l.a.createElement("div",{className:"form-wrapper"},l.a.createElement("div",{className:"FormUserTypes"},l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"small-12 columns"},l.a.createElement("label",null,"Title",l.a.createElement("input",{type:"text",ref:"title",placeholder:"Title",defaultValue:this.title}))),l.a.createElement("div",{className:"small-12 columns"},l.a.createElement("div",{className:"timestamps"},l.a.createElement("span",{className:"stamp-label"},"Created at:")," ",this.created_at,", ",l.a.createElement("span",{className:"stamp-label"},"Updated at:")," ",this.updated_at)),l.a.createElement("div",{className:"small-12 columns"},l.a.createElement("button",{className:"button secondary float-left",onClick:this.insertUserType.bind(this)},"Insert"),l.a.createElement("div",{className:"button-group-right float-right"},l.a.createElement("button",{className:"button",onClick:this.updateUserType.bind(this)},"Update"),l.a.createElement("button",{className:"button alert",onClick:this.deleteUserType.bind(this)},"Delete")))))))}}],[{key:"getStores",value:function(){return[i.a]}},{key:"getPropsFromStores",value:function(){return{userTypes:i.a.getState().userTypes,error:i.a.getState().error}}}]),t}(s.Component);t.a=p()(d)},275:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=n.n(s),i=n(91),u=n(54),c=n(29),p=n.n(c),f=n(37),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.id=o.props.data.id,o.name=o.props.data.name,o.email=o.props.data.email,o.notes=o.props.data.notes,o.user_type_id=o.props.data.user_type_id,o.created_at=n.i(f.a)(o.props.data.created_at),o.updated_at=n.i(f.a)(o.props.data.updated_at),o.state={userTypesSelectValue:o.props.data.user_type_id},o}return o(t,e),m(t,[{key:"componentWillMount",value:function(){}},{key:"insertUser",value:function(e){e.preventDefault(),u.a.insertUser({index:i.a.getState().users.length,users:i.a.getState().users})}},{key:"updateUser",value:function(e){e.preventDefault();var t={name:this.refs.name.value,email:this.refs.email.value,notes:this.refs.notes.value,password:this.refs.password.value,user_type_id:this.state.userTypesSelectValue};u.a.updateUsers({index:this.props.index,updated:t,users:i.a.getState().users})}},{key:"deleteUser",value:function(e){e.preventDefault(),u.a.deleteUser({index:this.props.index,users:i.a.getState().users})}},{key:"handleSelectChange",value:function(e){this.setState({userTypesSelectValue:e.target.value})}},{key:"render",value:function(){var e=[];e.push(l.a.createElement("option",{key:-1,value:0},"Select User Type..."));for(var t=0;t<this.props.userTypes.length;t+=1){var n=this.props.userTypes[t];e.push(l.a.createElement("option",{key:t,value:n.id},n.title))}return l.a.createElement("div",{className:"form-wrapper"},l.a.createElement("div",{className:"FormUsers"},l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"small-12 medium-6 columns"},l.a.createElement("label",null,"Name",l.a.createElement("input",{type:"text",ref:"name",placeholder:"Name",defaultValue:this.name}))),l.a.createElement("div",{className:"small-12 medium-6 columns"},l.a.createElement("label",null,"Email",l.a.createElement("input",{type:"text",ref:"email",placeholder:"Email Address",defaultValue:this.email}))),l.a.createElement("div",{className:"small-12 medium-6 columns"},l.a.createElement("label",null,"Password",l.a.createElement("input",{type:"password",ref:"password",placeholder:"Update Password"}))),l.a.createElement("div",{className:"small-12 medium-6 columns"},l.a.createElement("label",null,"Role",l.a.createElement("select",{onChange:this.handleSelectChange.bind(this),defaultValue:this.user_type_id,value:this.state.userTypesSelectValue},e))),l.a.createElement("div",{className:"small-12 columns"},l.a.createElement("label",null,"Notes",l.a.createElement("textarea",{ref:"notes",defaultValue:this.notes}))),l.a.createElement("div",{className:"small-12 columns"},l.a.createElement("div",{className:"timestamps"},l.a.createElement("span",{className:"stamp-label"},"Created at:")," ",this.created_at,", ",l.a.createElement("span",{className:"stamp-label"},"Updated at:")," ",this.updated_at)),l.a.createElement("div",{className:"small-12 columns"},l.a.createElement("button",{className:"button secondary float-left",onClick:this.insertUser.bind(this)},"Insert"),l.a.createElement("div",{className:"button-group-right float-right"},l.a.createElement("button",{className:"button",onClick:this.updateUser.bind(this)},"Update"),l.a.createElement("button",{className:"button alert",onClick:this.deleteUser.bind(this)},"Delete")))))))}}],[{key:"getStores",value:function(){return[i.a]}},{key:"getPropsFromStores",value:function(){return{users:i.a.getState().users,error:i.a.getState().error}}}]),t}(s.Component);t.a=p()(d)},276:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=n.n(s),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){return l.a.createElement("div",null,"This is the Domains page.")}}]),t}(s.Component);t.a=u},277:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=n.n(s),i=n(90),u=n(35),c=n(29),p=n.n(c),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"onClickLogin",value:function(){u.a.login({username:this.refs.usernameInput.value,password:this.refs.passwordInput.value})}},{key:"render",value:function(){var e=i.a.getState().error?l.a.createElement("div",{className:"login-error"},i.a.getState().error):null;return l.a.createElement("div",null,l.a.createElement("div",{className:"login-logo"},l.a.createElement("img",{src:"images/app-logo.svg",alt:"Clearlink Lead"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"columns small-centered small-10 medium-6 large-4"},l.a.createElement("div",{className:"login-top"},l.a.createElement("label",null,"Username",l.a.createElement("input",{type:"text",ref:"usernameInput",placeholder:"Username"})),l.a.createElement("label",null,"Password",l.a.createElement("input",{type:"password",ref:"passwordInput",placeholder:"Password"}))),l.a.createElement("div",{className:"login-bottom text-right"},l.a.createElement("button",{className:"button expanded",onClick:this.onClickLogin.bind(this)},"Login"),e))))}}],[{key:"getStores",value:function(){return[i.a]}},{key:"getPropsFromStores",value:function(){return i.a.getState()}}]),t}(s.Component);t.a=p()(m)},278:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=n.n(s),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){return l.a.createElement("div",null,"This is the Meetings page.")}}]),t}(s.Component);t.a=u},279:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=n.n(s),i=n(351),u=(n.n(i),n(280)),c=n(88),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();i.Tabs.setUseDefaultStyles(0);var f=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),p(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(i.Tabs,null,l.a.createElement(i.TabList,null,l.a.createElement(i.Tab,null,"All"),l.a.createElement(i.Tab,null,"Roles")),l.a.createElement(i.TabPanel,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"small-12 columns"},l.a.createElement(u.a,null)))),l.a.createElement(i.TabPanel,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"small-12 columns"},l.a.createElement(c.a,null))))))}}]),t}(s.Component);t.a=f},280:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=n.n(s),i=n(225),u=n.n(i),c=n(91),p=n(54),f=n(56),m=n(36),d=n(29),h=n.n(d),y=n(275),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.columns=[{Header:"ID",accessor:"id",maxWidth:"50"},{Header:"Name",accessor:"name",textAlign:"left"},{Header:"Email",accessor:"email"}],n}return o(t,e),v(t,[{key:"componentWillMount",value:function(){0===c.a.getState().users.length&&p.a.getUsers(),0===f.a.getState().userTypes.length&&m.a.getUserTypes()}},{key:"addNewUser",value:function(){p.a.insertUser({index:c.a.getState().users.length,users:c.a.getState().users})}},{key:"render",value:function(){var e=this;return this.props.error?l.a.createElement("div",null,this.props.error):this.props.userTypesError?l.a.createElement("div",null,this.props.userTypesError):this.props.users.length&&this.props.userTypes.length?l.a.createElement("div",null,l.a.createElement(u.a,{className:"-striped -highlight",previousText:"Back",data:this.props.users,columns:this.columns,showPageSizeOptions:!1,defaultPageSize:15,SubComponent:function(t){var n=e.props.users[t.index];return l.a.createElement(y.a,{data:n,userTypes:e.props.userTypes,index:t.index})}})):l.a.createElement("div",{className:"loading"},l.a.createElement("img",{src:"images/loading.svg"}))}}],[{key:"getStores",value:function(){return[c.a,f.a]}},{key:"getPropsFromStores",value:function(){return g({},c.a.getState(),f.a.getState())}}]),t}(s.Component);t.a=h()(b)},281:function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=n.n(s),i=n(224),u=(n.n(i),n(35)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(t){function n(e){return r(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return o(n,t),c(n,[{key:"onClickLogout",value:function(){u.a.logout()}},{key:"componentDidMount",value:function(){e(document).foundation()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"title-bar","data-responsive-toggle":"example-menu","data-hide-for":"medium"},l.a.createElement("div",{className:"title-menu"},l.a.createElement("button",{className:"menu-icon",type:"button","data-toggle":""})),l.a.createElement("div",{className:"title-bar-title"},l.a.createElement("img",{className:"cl-logo float-right",src:"/images/toolbar-logo.svg"}))),l.a.createElement("div",{className:"top-bar",id:"example-menu"},l.a.createElement("div",{className:"top-bar-right"},l.a.createElement("ul",{className:"menu"},l.a.createElement("li",{className:"menu-text"},l.a.createElement("button",{onClick:this.onClickLogout.bind(this)},l.a.createElement("i",{className:"material-icons"},"exit_to_app")," Logout")),l.a.createElement("li",{className:"menu-text"},l.a.createElement("img",{className:"cl-logo hide-for-small-only",src:"/images/toolbar-logo.svg"})))),l.a.createElement("div",{className:"top-bar-left"},l.a.createElement("ul",{className:"medium-horizontal vertical dropdown menu","data-responsive-menu":"accordion medium-dropdown"},l.a.createElement("li",null,l.a.createElement(i.Link,{to:"/",activeClassName:"active",activeStyle:{fontWeight:"bold"}},"People")),l.a.createElement("li",null,l.a.createElement(i.Link,{to:"/Meetings",activeClassName:"active",activeStyle:{fontWeight:"bold"}},"Meetings")),l.a.createElement("li",null,l.a.createElement(i.Link,{to:"/Domains",activeClassName:"active",activeStyle:{fontWeight:"bold"}},"Domains"))))))}}]),n}(s.Component);t.a=p}).call(t,n(431))},282:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.interceptor=null}return a(e,[{key:"setInterceptor",value:function(e){this.interceptor=e}},{key:"getInterceptor",value:function(){return this.interceptor}}]),e}();t.a=new o},291:function(e,t){},319:function(e,t,n){function r(e){return n(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./af":102,"./af.js":102,"./ar":109,"./ar-dz":103,"./ar-dz.js":103,"./ar-kw":104,"./ar-kw.js":104,"./ar-ly":105,"./ar-ly.js":105,"./ar-ma":106,"./ar-ma.js":106,"./ar-sa":107,"./ar-sa.js":107,"./ar-tn":108,"./ar-tn.js":108,"./ar.js":109,"./az":110,"./az.js":110,"./be":111,"./be.js":111,"./bg":112,"./bg.js":112,"./bn":113,"./bn.js":113,"./bo":114,"./bo.js":114,"./br":115,"./br.js":115,"./bs":116,"./bs.js":116,"./ca":117,"./ca.js":117,"./cs":118,"./cs.js":118,"./cv":119,"./cv.js":119,"./cy":120,"./cy.js":120,"./da":121,"./da.js":121,"./de":124,"./de-at":122,"./de-at.js":122,"./de-ch":123,"./de-ch.js":123,"./de.js":124,"./dv":125,"./dv.js":125,"./el":126,"./el.js":126,"./en-au":127,"./en-au.js":127,"./en-ca":128,"./en-ca.js":128,"./en-gb":129,"./en-gb.js":129,"./en-ie":130,"./en-ie.js":130,"./en-nz":131,"./en-nz.js":131,"./eo":132,"./eo.js":132,"./es":134,"./es-do":133,"./es-do.js":133,"./es.js":134,"./et":135,"./et.js":135,"./eu":136,"./eu.js":136,"./fa":137,"./fa.js":137,"./fi":138,"./fi.js":138,"./fo":139,"./fo.js":139,"./fr":142,"./fr-ca":140,"./fr-ca.js":140,"./fr-ch":141,"./fr-ch.js":141,"./fr.js":142,"./fy":143,"./fy.js":143,"./gd":144,"./gd.js":144,"./gl":145,"./gl.js":145,"./gom-latn":146,"./gom-latn.js":146,"./he":147,"./he.js":147,"./hi":148,"./hi.js":148,"./hr":149,"./hr.js":149,"./hu":150,"./hu.js":150,"./hy-am":151,"./hy-am.js":151,"./id":152,"./id.js":152,"./is":153,"./is.js":153,"./it":154,"./it.js":154,"./ja":155,"./ja.js":155,"./jv":156,"./jv.js":156,"./ka":157,"./ka.js":157,"./kk":158,"./kk.js":158,"./km":159,"./km.js":159,"./kn":160,"./kn.js":160,"./ko":161,"./ko.js":161,"./ky":162,"./ky.js":162,"./lb":163,"./lb.js":163,"./lo":164,"./lo.js":164,"./lt":165,"./lt.js":165,"./lv":166,"./lv.js":166,"./me":167,"./me.js":167,"./mi":168,"./mi.js":168,"./mk":169,"./mk.js":169,"./ml":170,"./ml.js":170,"./mr":171,"./mr.js":171,"./ms":173,"./ms-my":172,"./ms-my.js":172,"./ms.js":173,"./my":174,"./my.js":174,"./nb":175,"./nb.js":175,"./ne":176,"./ne.js":176,"./nl":178,"./nl-be":177,"./nl-be.js":177,"./nl.js":178,"./nn":179,"./nn.js":179,"./pa-in":180,"./pa-in.js":180,"./pl":181,"./pl.js":181,"./pt":183,"./pt-br":182,"./pt-br.js":182,"./pt.js":183,"./ro":184,"./ro.js":184,"./ru":185,"./ru.js":185,"./sd":186,"./sd.js":186,"./se":187,"./se.js":187,"./si":188,"./si.js":188,"./sk":189,"./sk.js":189,"./sl":190,"./sl.js":190,"./sq":191,"./sq.js":191,"./sr":193,"./sr-cyrl":192,"./sr-cyrl.js":192,"./sr.js":193,"./ss":194,"./ss.js":194,"./sv":195,"./sv.js":195,"./sw":196,"./sw.js":196,"./ta":197,"./ta.js":197,"./te":198,"./te.js":198,"./tet":199,"./tet.js":199,"./th":200,"./th.js":200,"./tl-ph":201,"./tl-ph.js":201,"./tlh":202,"./tlh.js":202,"./tr":203,"./tr.js":203,"./tzl":204,"./tzl.js":204,"./tzm":206,"./tzm-latn":205,"./tzm-latn.js":205,"./tzm.js":206,"./uk":207,"./uk.js":207,"./ur":208,"./ur.js":208,"./uz":210,"./uz-latn":209,"./uz-latn.js":209,"./uz.js":210,"./vi":211,"./vi.js":211,"./x-pseudo":212,"./x-pseudo.js":212,"./yo":213,"./yo.js":213,"./zh-cn":214,"./zh-cn.js":214,"./zh-hk":215,"./zh-hk.js":215,"./zh-tw":216,"./zh-tw.js":216};r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=319},35:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(25),o=function e(){r(this,e),this.generateActions("login","localLogin","refreshToken","logout")};t.a=a.a.createActions(o)},36:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(25),o=function e(){r(this,e),this.generateActions("getUserTypes","updateUserTypes","deleteUserType","insertUserType")};t.a=a.a.createActions(o)},37:function(e,t,n){"use strict";var r=n(0),a=n.n(r);n.d(t,"a",function(){return o}),n.d(t,"b",function(){return l});var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM D, YYYY; h:mm a",n=e.split(/[- :]/),r=new Date(Date.UTC(n[0],n[1]-1,n[2],n[3],n[4],n[5]));return a()(r).format(t)},s=function(e){return 0<=e&&e<10?"0"+e.toString():-10<e&&e<0?"-0"+(-1*e).toString():e.toString()},l=function(){var e=new Date;return e.getUTCFullYear()+"-"+s(1+e.getUTCMonth())+"-"+s(e.getUTCDate())+" "+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())}},431:function(e,t){e.exports=jQuery},432:function(e,t,n){e.exports=n(256)},54:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(25),o=function e(){r(this,e),this.generateActions("getUsers","updateUsers","deleteUser","insertUser")};t.a=a.a.createActions(o)},55:function(e,t,n){"use strict";var r=function(){return{tokenUrl:"http://localhost.clearlinkleadapi/access_token",apiUrl:"http://localhost.clearlinkleadapi",clientId:"id0",clientSecret:"secret0"}};t.a=new r},56:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(34),s=n.n(o),l=n(25),i=n(101),u=n.n(i),c=n(36),p=n(55),f=n(37),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(){function e(){a(this,e),this.bindActions(c.a),this.userTypes=[],this.error=null}return d(e,[{key:"getUserTypes",value:function(){var e=this;s.a.get(p.a.apiUrl+"/userTypes").then(function(t){console.log("getUserTypes(): ",t.data.data),e.setState({userTypes:t.data.data,error:null})}).catch(function(t){e.setState({userTypes:null,error:t})})}},{key:"updateUserTypes",value:function(e){var t=e.index,n=e.updated,r=e.userTypes,a=r.slice(),o=[],l=[],i={};l=a[t],o=u()(l,{$merge:n}),a[t]=o;var c=localStorage.getItem("access_token");i={id:a[t].id,title:a[t].title};var f={headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"}};s.a.put(p.a.apiUrl+"/userTypes/"+i.id,i,f).then(function(e){console.log("API update success:",e)}).catch(function(e){return console.log("API update error: ",e)}),this.setState({userTypes:a,error:null})}},{key:"deleteUserType",value:function(e){var t=this,n=e.index,r=e.userTypes,a=r[n].id,o=localStorage.getItem("access_token"),l={headers:{Authorization:"Bearer "+o}};s.a.delete(p.a.apiUrl+"/userTypes/"+a,l).then(function(e){t.setState({userTypes:u()(r,{$splice:[[n,1]]}),error:null})}).catch(function(e){return console.log("API delete error: ",e)})}},{key:"insertUserType",value:function(e){var t=this,a=e.index,o=e.userTypes,l=localStorage.getItem("access_token"),i={title:"New Type",created_at:n.i(f.b)(),updated_at:n.i(f.b)()},c={headers:{Authorization:"Bearer "+l}};s.a.post(p.a.apiUrl+"/userTypes",i,c).then(function(e){console.log("API insert success (last insert id):",e.data);var n=m({id:e.data.last_insert_id},i),s=u()([].concat(r(o)),{$splice:[[a,0,n]]});t.setState({userTypes:s,error:null})}).catch(function(e){return console.log("API insert error: ",e)})}}]),e}();t.a=l.a.createStore(h,"UserTypesStore")},88:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(2),l=n.n(s),i=n(225),u=n.n(i),c=n(56),p=n(36),f=n(29),m=n.n(f),d=n(274),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.columns=[{Header:"ID",accessor:"id",maxWidth:"50"},{Header:"Title",accessor:"title",textAlign:"left"}],n}return o(t,e),h(t,[{key:"componentWillMount",value:function(){0===c.a.getState().userTypes.length&&p.a.getUserTypes()}},{key:"addNewUserType",value:function(){p.a.insertUser({index:c.a.getState().userTypes.length,users:c.a.getState().userTypes})}},{key:"render",value:function(){var e=this;return this.props.userTypesError?l.a.createElement("div",null,this.props.userTypesError):this.props.userTypes.length?l.a.createElement("div",null,l.a.createElement(u.a,{className:"-striped -highlight",previousText:"Back",data:this.props.userTypes,columns:this.columns,showPageSizeOptions:!1,defaultPageSize:10,SubComponent:function(t){var n=e.props.userTypes[t.index];return l.a.createElement(d.a,{data:n,index:t.index})}})):l.a.createElement("div",{className:"loading"},l.a.createElement("img",{src:"images/loading.svg"}))}}],[{key:"getStores",value:function(){return[c.a]}},{key:"getPropsFromStores",value:function(){return{userTypes:c.a.getState().userTypes,userTypesError:c.a.getState().error}}}]),t}(s.Component);t.a=m()(y)},89:function(e,t,n){"use strict";var r=n(310),a=n.n(r);t.a=a()()},90:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(34),o=n.n(a),s=n(318),l=n.n(s),i=n(25),u=n(35),c=n(282),p=n(55),f=n(89),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(){function e(){r(this,e),this.bindActions(u.a),this.accessToken=null,this.refreshToken=null,this.user=null,this.error=null}return m(e,[{key:"onLogin",value:function(e){var t=this;o.a.post(p.a.tokenUrl,this.getAuthEndpoint("password",e)).then(function(e){return t.saveTokens(e.data),o.a.get(p.a.tokenUrl+"/me")}).then(function(e){t.loginSuccess(e.data.data)}).catch(function(e){t.loginError(e)})}},{key:"loginSuccess",value:function(e){localStorage.setItem("user",JSON.stringify(e)),this.setState({user:e}),console.log("User authenticated: ",e),f.a.replaceState(null,"/")}},{key:"loginError",value:function(e){console.log("API error:",e),this.setState({accessToken:null,refreshToken:null,error:"Login failed!",user:null})}},{key:"onLocalLogin",value:function(){var e=localStorage.getItem("access_token"),t=localStorage.getItem("refresh_token"),n=JSON.parse(localStorage.getItem("user"));e&&t&&n&&(this.saveTokens({access_token:e,refresh_token:t}),this.loginSuccess(n))}},{key:"onRefreshToken",value:function(e){var t=this,n=localStorage.getItem("refresh_token");n&&(o.a.interceptors.request.eject(c.a.getInterceptor()),o.a.get(this.getAuthEndpoint("refresh_token")+"&refresh_token="+n).then(function(n){t.saveTokens(n.data),o()(e.initialRequest).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)})}).catch(function(){t.onLogout()}))}},{key:"onLogout",value:function(){localStorage.clear(),this.setState({accessToken:null,refreshToken:null,error:null}),o.a.interceptors.request.eject(c.a.getInterceptor()),console.log("User is logged out."),f.a.replaceState(null,"/login")}},{key:"saveTokens",value:function(e){var t=e.access_token,n=e.refresh_token;localStorage.setItem("access_token",t),localStorage.setItem("refresh_token",n),this.setState({accessToken:t,refreshToken:n,error:null});var r=o.a.interceptors.request.use(function(e){return e.url=new l.a(e.url).addQueryParam("access_token",t),e});c.a.setInterceptor(r)}},{key:"getAuthEndpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"password",t=arguments[1];return{client_id:p.a.clientId,client_secret:p.a.clientSecret,grant_type:e,username:t.username,password:t.password}}}]),e}();t.a=i.a.createStore(d,"AuthStore")},91:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(34),s=n.n(o),l=n(101),i=n.n(l),u=n(25),c=n(54),p=n(55),f=n(421),m=n.n(f),d=n(37),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function(){function e(){a(this,e),this.bindActions(c.a),this.users=[],this.error=null}return y(e,[{key:"getUsers",value:function(){var e=this;s.a.get(p.a.apiUrl+"/users").then(function(t){console.log("getAll(): ",t.data.data),setTimeout(function(){e.setState({users:t.data.data,error:null})},500)}).catch(function(t){e.setState({users:null,error:t})})}},{key:"updateUsers",value:function(e){var t=e.index,n=e.updated,r=e.users,a=r.slice(),o=[],l=[],u={};l=a[t],o=i()(l,{$merge:n}),a[t]=o;var c=localStorage.getItem("access_token");u={id:a[t].id,name:a[t].name,email:a[t].email,notes:a[t].notes,password:a[t].password,user_type_id:a[t].user_type_id};var f={headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"}};s.a.put(p.a.apiUrl+"/users/"+u.id,u,f).then(function(e){console.log("API update success:",e)}).catch(function(e){return console.log("API update error: ",e)}),this.setState({users:a,error:null})}},{key:"deleteUser",value:function(e){var t=this,n=e.index,r=e.users,a=r[n].id,o=localStorage.getItem("access_token"),l={headers:{Authorization:"Bearer "+o}};s.a.delete(p.a.apiUrl+"/users/"+a,l).then(function(e){console.log("API Delete success:",e),t.setState({users:i()(r,{$splice:[[n,1]]}),error:null})}).catch(function(e){return console.log("API delete error: ",e)})}},{key:"insertUser",value:function(e){var t=this,a=e.index,o=e.users,l=localStorage.getItem("access_token"),u={name:"New User ",email:"new.user"+m.a.generate()+"@clearlink.com",password:"secret",notes:"Enter notes here...",user_type_id:1,created_at:n.i(d.b)(),updated_at:n.i(d.b)()},c={headers:{Authorization:"Bearer "+l}};s.a.post(p.a.apiUrl+"/users",u,c).then(function(e){var n=h({id:e.data.last_insert_id},u);t.setState({users:i()([].concat(r(o)),{$splice:[[a,0,n]]}),error:null})}).catch(function(e){return console.log("API insert error: ",e)})}}]),e}();t.a=u.a.createStore(g,"UserStore")}},[432]);